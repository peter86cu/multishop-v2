<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="template :: html_head"></head>

<body>
    <div class="container" style="max-width: 1200px; margin: 0 auto;">

        <!-- Topbar Start -->
        <div th:replace="template :: header"></div>
        <!-- Navbar Start -->
        <div th:replace="template :: menu"></div>
        <!-- Navbar End -->

        <!-- Breadcrumb Start -->
        <div class="container-fluid">
            <div class="row px-xl-5">
                <div class="col-12">
                    <nav class="breadcrumb bg-light mb-30">
                        <a class="breadcrumb-item text-dark" href="#">Inicio</a>
                        <span class="breadcrumb-item active">Mis compras</span>
                    </nav>
                </div>
            </div>
        </div>
        <!-- Breadcrumb End -->

        <!-- Compras Start -->
        <div class="container-fluid">
            <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
                <span class="bg-secondary pr-3">Mis Compras</span>
            </h2>

            <div align="right" class="form-group">
                <input type="text" class="form-control pull-right" style="width: 20%;" id="search"
                    placeholder="Buscar compra...">
            </div>

            <div class="card">
                <div class="card-body">
                    <!-- Iterar sobre las compras -->
                    <div th:each="compra : ${comprasUsuarios}" class="mb-4 border p-3 rounded bg-white">
                        <h6 class="text-muted" th:text="${compra.fechaCompra}"></h6>

                        <div class="d-flex">
                            <!-- Imagen del producto -->
                            <div class="mr-3">
                                <img th:src="${compra.imagen}" alt="Producto" class="img-fluid" style="width: 80px; height: 80px;">
                            </div>

                            <div class="w-100">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <span class="badge badge-success">Entregado</span>
                                        <p class="mb-1 font-weight-bold" th:text="'Llegó el ' + ${compra.fechaEntrega}"></p>
                                        <p class="text-muted" th:text="${compra.descripcion}"></p>
                                        <small th:text="${compra.cantidad} + ' unidad(es)'"></small>
                                    </div>

                                    <div>
                                        <span class="text-uppercase text-muted d-block" th:text="${compra.proveedor}"></span>
                                        <a href="#" class="text-primary">Enviar mensaje</a>
                                    </div>

                                    <div>
                                        <a href="#" class="btn btn-primary btn-sm">Ver compra</a>
                                        <button class="btn btn-light btn-sm">Volver a comprar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Fin de iteración de compras -->
                </div>
            </div>
        </div>
        <!-- Compras End -->

    </div>

    <!-- Estilos personalizados -->
    <style>
        .btn-sm {
            padding: 5px 10px;
            font-size: 0.9rem;
        }
    </style>

    <!-- Footer -->
    <div th:replace="template :: footerTemplate"></div>

    <!-- Scripts -->
    <div th:replace="template :: javaScriptTemplate"></div>

    <script type="text/javascript" src="js/compras.js"></script>

</body>
</html>
